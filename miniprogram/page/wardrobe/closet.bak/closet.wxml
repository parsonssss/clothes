<view class="container" style="background-color: {{colors.lightTaupe}};">
  <!-- 顶部导航栏 -->
  <view class="header" style="background-color: {{colors.darkBrown}};">
    <text class="title" style="color: {{colors.lightTaupe}};">衣柜</text>
  </view>
  
  <!-- 主要内容区域 -->
  <view class="main-content">
    <!-- 叠层卡片区域 - 占据中间50%的区域 -->
    <view class="card-stack">
      <block wx:for="{{categories}}" wx:key="id">
        <!-- 计算相对于活动卡片的位置 -->
        <view 
          class="category-card {{index === activeIndex ? 'active' : ''}}" 
          style="transform: translateX({{getTranslateX(index)}}rpx) scale({{getScale(index)}}); 
                 z-index: {{getZIndex(index)}}; 
                 opacity: {{getOpacity(index)}}; 
                 background-color: {{index === activeIndex ? colors.mediumBrown : colors.lightTaupe}};"
          bindtap="onCardTap"
          data-index="{{index}}"
          wx:if="{{shouldRenderCard(index)}}"
        >
          <view class="category-icon" style="background-color: {{colors.darkOlive}}; color: {{colors.lightTaupe}};">
            {{item.icon}}
          </view>
          <text class="category-name" style="color: {{colors.darkOlive}};">{{item.name}}</text>
          <text class="category-en-name" style="color: {{colors.darkCoffee}};">{{item.enName}}</text>
        </view>
      </block>
      
      <!-- 左右滑动按钮 -->
      <view class="nav-button left" bindtap="slidePrev" style="color: {{colors.darkOlive}};">◀</view>
      <view class="nav-button right" bindtap="slideNext" style="color: {{colors.darkOlive}};">▶</view>
    </view>
  </view>
  
  <!-- 底部导航栏 -->
  <view class="footer" style="background-color: {{colors.darkBrown}};">
    <view class="nav-item" style="color: {{colors.lightTaupe}};">衣柜</view>
    <view class="nav-item" style="color: {{colors.lightTaupe}};">搭配</view>
    <view class="nav-item" style="color: {{colors.lightTaupe}};">日历</view>
    <view class="nav-item" style="color: {{colors.lightTaupe}};">我的</view>
  </view>
  
  <!-- 详情大卡片 -->
  <view class="detail-card-container" wx:if="{{selectedCategory}}" bindtap="onDetailBackgroundTap">
    <view 
      class="detail-card" 
      style="background-color: {{colors.mediumBrown}};"
      catchtap="preventBubble"
    >
      <!-- 卡片顶部 -->
      <view class="detail-header">
        <text class="detail-title" style="color: {{colors.darkOlive}};">{{selectedCategory.name}}</text>
        <view class="close-button" bindtap="closeDetail" style="color: {{colors.darkOlive}};">✕</view>
      </view>

      <!-- 衣物网格 -->
      <scroll-view class="clothes-grid" scroll-y="true">
        <view class="grid-container">
          <block wx:for="{{clothesItems}}" wx:key="id">
            <view class="clothes-item" style="background-color: {{colors.lightTaupe}};">
              <image class="clothes-image" src="{{item.image}}" mode="aspectFill"></image>
              <text class="clothes-name" style="color: {{colors.darkOlive}};">{{item.name}}</text>
            </view>
          </block>
        </view>
      </scroll-view>
      
      <!-- 添加按钮 -->
      <view class="add-button-container">
        <view class="add-button" style="background-color: {{colors.darkOlive}}; color: {{colors.lightTaupe}};">+</view>
      </view>
    </view>
  </view>
</view>
